?attach
attach(data_df)
ratings_BEST <- BESTmcmc(change_score[condition == "a"],
change_score[condition == "b"])
detach(data_df)
#######################################################################
# data acquisition
setwd("~/git/Automated Reporting/")
data_df <- read.csv("dataset.csv")
# non parametric permutation tests
library(doMC)  # enable use of both processing cores. Halves processing time, but disables progress bar.
options(cores = 4)  # paramters for multicore
registerDoMC()  # paramters for multicore
library(ez)  # for ezANOVA
permutation_test_change_scores <- ezPerm(data = data_df,
dv = .(change_score),
wid = .(participant),
between = .(condition),
perms = 1e3,
parallel = TRUE)
permutation_test_change_scores
save(ratings_BEST, file="BEST.RData")
ratings_BEST_df <-
as.data.frame(summary(ratings_BEST,
ROPEeff = c(-0.2,0.2))) %>%  # ROPE defined here
tibble::rownames_to_column() %>%  # convert rowname to column
mutate(mode = round(mode, 2),  # round values and rename awkwardly named ones
HDIlo = round(HDIlo, 2),
HDIup = round(HDIup, 2),
percent_greater_than_zero = round(`%>compVal`, 2),
percent_in_rope = round(`%InROPE`, 2))
attach(data_df)
BEST <- BESTmcmc(change_score[condition == "a"],
change_score[condition == "b"])
detach(data_df)
save(ratings_BEST, file="BEST.RData")
BEST_output_df <-
as.data.frame(summary(ratings_BEST,
ROPEeff = c(-0.2,0.2))) %>%  # ROPE defined here
tibble::rownames_to_column() %>%  # convert rowname to column
mutate(mode = round(mode, 2),  # round values and rename awkwardly named ones
HDIlo = round(HDIlo, 2),
HDIup = round(HDIup, 2),
percent_greater_than_zero = round(`%>compVal`, 2),
percent_in_rope = round(`%InROPE`, 2))
save(ratings_BEST, file="BEST.RData")
BEST_output_df <-
as.data.frame(summary(ratings_BEST,
ROPEeff = c(-0.2,0.2))) %>%  # ROPE defined here
tibble::rownames_to_column() %>%  # convert rowname to column
mutate(mode = round(mode, 2),  # round values and rename awkwardly named ones
HDIlo = round(HDIlo, 2),
HDIup = round(HDIup, 2),
percent_greater_than_zero = round(`%>compVal`, 2),
percent_in_rope = round(`%InROPE`, 2))
BEST_output_df
sink("output BEST.txt")
BEST_output_df
cat(\n)
cat(\n)
# write data to disk
sink("output BEST.txt")
BEST_output_df
cat("\n")
cat("\n")
sink()
sink("output BEST.txt")
BEST_output_df
cat("\n")
cat("\n")
sink()
sink("output BEST.txt")
BEST_output_df
cat("\n")
cat("\n")
sink()
# plot
plotAll(BEST,
ROPEeff=c(-0.2,0.2),
showCurve = TRUE)
a <- "A Bayesian BEST test was used to compare differences between the two conditions. "
b <- "We employed the default non-informative prior and parameters described by Krushke (2013), "
c <- "A region of practical equivalence (ROPE) was defined on the effect size (-0.2 < d < 0.2) in order to allow us to assess group equality as well as group differences. "
d <- "The posterior probabilities indicated that "
e <- "% of credible effect sizes were greater than 0, and "
f <- "% were within the ROPE. The most estimated effect size was "
g <- " with a high density interval that "
h <- ", Modal d = "
i <- ", 95% HDI ["
j <- ", "
k <- "]. We therefore concluded that credible differences existed between the low condition (M = "
l <- ") and high condition ("
m <- ")."
BEST_output_df
BEST_output_df <-
as.data.frame(summary(ratings_BEST,
ROPEeff = c(-0.2,0.2))) %>%  # ROPE defined here
tibble::rownames_to_column() %>%  # convert rowname to column
mutate(mode = round(mode, 2),  # round values and rename awkwardly named ones
HDIlo = round(HDIlo, 2),
HDIup = round(HDIup, 2),
percent_greater_than_zero = round(`%>compVal`, 2),
percent_in_rope = round(`%InROPE`, 2))
BEST_output_df
sink()
BEST_output_df
save(BEST, file="BEST.RData")
BEST_output_df <-
as.data.frame(summary(BEST,
ROPEeff = c(-0.2,0.2))) %>%  # ROPE defined here
tibble::rownames_to_column() %>%  # convert rowname to column
mutate(mode = round(mode, 2),  # round values and rename awkwardly named ones
HDIlo = round(HDIlo, 2),
HDIup = round(HDIup, 2),
percent_greater_than_zero = round(`%>compVal`, 2),
percent_in_rope = round(`%InROPE`, 2))
BEST_output_df <-
as.data.frame(summary(BEST,
ROPEeff = c(-0.2,0.2))) %>%  # ROPE defined here
tibble::rownames_to_column() %>%  # convert rowname to column
mutate(mode = round(mode, 2),  # round values and rename awkwardly named ones
HDIlo = round(HDIlo, 2),
HDIup = round(HDIup, 2),
percent_greater_than_zero = round(`%>compVal`, 2),
percent_in_rope = round(`%InROPE`, 2))
es_mode                   <- BEST %>% filter(rowname == "effSz") %>% .$mode  # convert df to individual variables
es_hdi_low                <- BEST %>% filter(rowname == "effSz") %>% .$HDIlo
es_hdi_high               <- BEST %>% filter(rowname == "effSz") %>% .$HDIup
BEST_output_df <-
as.data.frame(summary(BEST,
ROPEeff = c(-0.2,0.2))) %>%  # ROPE defined here
tibble::rownames_to_column() %>%  # convert rowname to column
mutate(mode = round(mode, 2),  # round values and rename awkwardly named ones
HDIlo = round(HDIlo, 2),
HDIup = round(HDIup, 2),
percent_greater_than_zero = round(`%>compVal`, 2),
percent_in_rope = round(`%InROPE`, 2))
BEST_output_df
es_mode                   <- BEST %>% filter(rowname == "effSz") %>% .$mode  # convert df to individual variables
es_mode                   <- BEST_output_df %>% filter(rowname == "effSz") %>% .$mode  # convert df to individual variables
es_hdi_low                <- BEST_output_df %>% filter(rowname == "effSz") %>% .$HDIlo
es_hdi_high               <- BEST_output_df %>% filter(rowname == "effSz") %>% .$HDIup
es_percent_greater_zero   <- BEST_output_df %>% filter(rowname == "effSz") %>% .$percent_greater_than_zero
es_percent_in_rope        <- BEST_output_df %>% filter(rowname == "effSz") %>% .$percent_in_rope
m_condition_a             <- BEST_output_df %>% filter(rowname == "mu1") %>% .$mean
m_condition_b             <- BEST_output_df %>% filter(rowname == "mu2") %>% .$mean
m_condition_a
m_condition_b
BEST_output_df <-
as.data.frame(summary(BEST,
ROPEeff = c(-0.2,0.2))) %>%  # ROPE defined here
tibble::rownames_to_column() %>%  # convert rowname to column
mutate(mode = round(mode, 2),  # round values and rename awkwardly named ones
HDIlo = round(HDIlo, 2),
HDIup = round(HDIup, 2),
percent_greater_than_zero = round(`%>compVal`, 2),
percent_in_rope = round(`%InROPE`, 2),
mean = round(mean, 2))
m_condition_a             <- BEST_output_df %>% filter(rowname == "mu1") %>% .$mean
m_condition_b             <- BEST_output_df %>% filter(rowname == "mu2") %>% .$mean
m_condition_a
m_condition_b
es_size <- ifelse(abs(es_mode) < 0.2, "negligable",
ifelse(abs(es_mode) < 0.5, "small",
ifelse(abs(es_mode) < 0.8, "medium", "large")))
es_size <- ifelse(abs(es_mode) < 0.2, "negligable",
ifelse(abs(es_mode) < 0.5, "small",
ifelse(abs(es_mode) < 0.8, "medium", "large")))
es_hid_includes_zero <-
ifelse(m_condition_a < m_condition_b & m_condition_b < 0, "did not overlap zero",  # if (a,b) < 0
ifelse(m_condition_a > m_condition_b & m_condition_a > 0, "did not overlap zero", # if 0 < (a,b)
"overlapped zero"))  # if a < 0 < b
a <- "A Bayesian BEST test was used to compare differences between the two conditions. "
b <- "We employed the default non-informative prior and parameters described by Krushke (2013), "
c <- "A region of practical equivalence (ROPE) was defined on the effect size (-0.2 < d < 0.2) in order to allow us to assess group equality as well as group differences. "
d <- "The posterior probabilities indicated that "
e <- "% of credible effect sizes were greater than 0, and "
f <- "% were within the ROPE. The most probable effect size was "
g <- " with a high density interval that "
h <- ", Modal d = "
i <- ", 95% HDI ["
j <- ", "
k <- "]. We therefore concluded that credible differences existed between the low condition (M = "
l <- ") and high condition ("
m <- ")."
BEST_text <- paste(a,b,c,d,
es_percent_greater_zero,
e,
es_percent_in_rope,
f,
es_size,
g,
es_hid_includes_zero,
h,
es_mode,
i,
es_hdi_low,
j,
es_hdi_high,
k,l,m)
BEST_text
library(stringr)
BEST_text <-
paste(a,b,c,d,
es_percent_greater_zero,
e,
es_percent_in_rope,
f,
es_size,
g,
es_hid_includes_zero,
h,
es_mode,
i,
es_hdi_low,
j,
es_hdi_high,
k,l,m,
sep = "")
BEST_text
k <- "]. We therefore concluded that "
l <- " credible differences existed between the low condition (M = "
m <- ") and high condition ("
n <- ")."
conclusion <-
ifelse(m_condition_a < m_condition_b & m_condition_b < 0, "credible differences",  # if (a,b) < 0
ifelse(m_condition_a > m_condition_b & m_condition_a > 0, "credible differences", # if 0 < (a,b)
"no credible differences"))  # if a < 0 < b
BEST_text <-
paste(a,b,c,d,
es_percent_greater_zero,
e,
es_percent_in_rope,
f,
es_size,
g,
es_hid_includes_zero,
h,
es_mode,
i,
es_hdi_low,
j,
es_hdi_high,
k,
conclusion,
l,m,
sep = "")
BEST_text
conclusion <-
ifelse(m_condition_a < m_condition_b & m_condition_b < 0, "credible differences",  # if (a,b) < 0
ifelse(m_condition_a > m_condition_b & m_condition_a > 0, "credible differences", # if 0 < (a,b)
"no credible differences"))  # if a < 0 < b
a <- "A Bayesian BEST test was used to compare differences between the two conditions. "
b <- "We employed the default non-informative prior and parameters described by Krushke (2013). "
c <- "A region of practical equivalence (ROPE) was defined on the effect size (-0.2 < d < 0.2) in order to allow us to assess group equality as well as group differences. "
d <- "The posterior probabilities indicated that "
e <- "% of credible effect sizes were greater than 0, and "
f <- "% were within the ROPE. The most probable effect size was of "
g <- " size with a high density interval that "
h <- ", Mode d = "
i <- ", 95% HDI ["
j <- ", "
k <- "]. We therefore concluded that "
l <- " existed between the low condition (M = "
m <- ") and high condition ("
n <- ")."
BEST_text <-
paste(a,b,c,d,
es_percent_greater_zero,
e,
es_percent_in_rope,
f,
es_size,
g,
es_hid_includes_zero,
h,
es_mode,
i,
es_hdi_low,
j,
es_hdi_high,
k,
conclusion,
l,m,
sep = "")
BEST_text
BEST_text <-
paste(a,b,c,d,
es_percent_greater_zero,
e,
es_percent_in_rope,
f,
es_size,
g,
es_hid_includes_zero,
h,
es_mode,
i,
es_hdi_low,
j,
es_hdi_high,
k,
conclusion,
l,
m_condition_a,
m,
m_condition_b,
sep = "")
BEST_text
BEST_text <-
paste(a,b,c,d,
es_percent_greater_zero,
e,
es_percent_in_rope,
f,
es_size,
g,
es_hid_includes_zero,
h,
es_mode,
i,
es_hdi_low,
j,
es_hdi_high,
k,
conclusion,
l,
m_condition_a,
m,
m_condition_b,
n,
sep = "")
BEST_text
a <- "A Bayesian BEST test was used to compare differences between the two conditions. "
b <- "We employed the default non-informative prior and parameters described by Krushke (2013). "
c <- "A region of practical equivalence (ROPE) was defined on the effect size (-0.2 < d < 0.2) in order to allow us to assess group equality as well as group differences. "
d <- "The posterior probabilities indicated that "
e <- "% of credible effect sizes were greater than 0, and "
f <- "% were within the ROPE. The most probable effect size was of "
g <- " size with a high density interval that "
h <- ", Mode d = "
i <- ", 95% HDI ["
j <- ", "
k <- "]. We therefore concluded that "
l <- " existed between the low condition (M = "
m <- ") and high condition (M = "
n <- ")."
BEST_text <-
paste(a,b,c,d,
es_percent_greater_zero,
e,
es_percent_in_rope,
f,
es_size,
g,
es_hid_includes_zero,
h,
es_mode,
i,
es_hdi_low,
j,
es_hdi_high,
k,
conclusion,
l,
m_condition_a,
m,
m_condition_b,
n,
sep = "")
BEST_text
sink("output BEST.txt")
BEST_output_df
cat("\n")
cat("\n")
BEST_text
sink()
# write data to disk
sink("output BEST.txt")
cat(BEST_output_df)
cat("\n")
cat("\n")
cat(BEST_text)
sink()
sink("output BEST.txt")
BEST_output_df
cat("\n")
cat("\n")
cat(BEST_text)
sink()
?sprintf
BEST_text <- cat("A Bayesian BEST test was used to compare differences between the two conditions. We employed the default non-informative prior and parameters described by Krushke (2013). A region of practical equivalence (ROPE) was defined on the effect size (-0.2 < d < 0.2) in order to allow us to assess group equality as well as group differences. The posterior probabilities indicated that %s% of credible effect sizes were greater than 0, and %s% were within the ROPE. The most probable effect size was of %s size with a high density interval that %s, Mode d = %s, 95% HDI [%s, %s]. We therefore concluded that %s existed between the low condition (M = %s) and high condition (M = %s).",
es_percent_greater_zero,
es_percent_in_rope,
es_size,
es_hid_includes_zero,
es_mode,
es_hdi_low,
es_hdi_high,
conclusion,
m_condition_a,
m_condition_b)
BEST_text <- cat("A Bayesian BEST test was used to compare differences between the two conditions. We employed the default non-informative prior and parameters described by Krushke (2013). A region of practical equivalence (ROPE) was defined on the effect size (-0.2 < d < 0.2) in order to allow us to assess group equality as well as group differences. The posterior probabilities indicated that %s\% of credible effect sizes were greater than 0, and %s% were within the ROPE. The most probable effect size was of %s size with a high density interval that %s, Mode d = %s, 95% HDI [%s, %s]. We therefore concluded that %s existed between the low condition (M = %s) and high condition (M = %s).",
es_percent_greater_zero,
es_percent_in_rope,
es_size,
es_hid_includes_zero,
es_mode,
es_hdi_low,
es_hdi_high,
conclusion,
m_condition_a,
m_condition_b)
BEST_text <- cat("A Bayesian BEST test was used to compare differences between the two conditions. We employed the default non-informative prior and parameters described by Krushke (2013). A region of practical equivalence (ROPE) was defined on the effect size (-0.2 < d < 0.2) in order to allow us to assess group equality as well as group differences. The posterior probabilities indicated that %s % of credible effect sizes were greater than 0, and %s% were within the ROPE. The most probable effect size was of %s size with a high density interval that %s, Mode d = %s, 95% HDI [%s, %s]. We therefore concluded that %s existed between the low condition (M = %s) and high condition (M = %s).",
es_percent_greater_zero,
es_percent_in_rope,
es_size,
es_hid_includes_zero,
es_mode,
es_hdi_low,
es_hdi_high,
conclusion,
m_condition_a,
m_condition_b)
BEST_text <- cat(sprintf("A Bayesian BEST test was used to compare differences between the two conditions. We employed the default non-informative prior and parameters described by Krushke (2013). A region of practical equivalence (ROPE) was defined on the effect size (-0.2 < d < 0.2) in order to allow us to assess group equality as well as group differences. The posterior probabilities indicated that %s % of credible effect sizes were greater than 0, and %s% were within the ROPE. The most probable effect size was of %s size with a high density interval that %s, Mode d = %s, 95% HDI [%s, %s]. We therefore concluded that %s existed between the low condition (M = %s) and high condition (M = %s).",
es_percent_greater_zero,
es_percent_in_rope,
es_size,
es_hid_includes_zero,
es_mode,
es_hdi_low,
es_hdi_high,
conclusion,
m_condition_a,
m_condition_b))
BEST_text <- cat(sprintf("A Bayesian BEST test was used to compare differences between the two conditions. We employed the default non-informative prior and parameters described by Krushke (2013). A region of practical equivalence (ROPE) was defined on the effect size (-0.2 < d < 0.2) in order to allow us to assess group equality as well as group differences. The posterior probabilities indicated that %s\%of credible effect sizes were greater than 0, and %s\% were within the ROPE. The most probable effect size was of %s size with a high density interval that %s, Mode d = %s, 95\% HDI [%s, %s]. We therefore concluded that %s existed between the low condition (M = %s) and high condition (M = %s).",
es_percent_greater_zero,
es_percent_in_rope,
es_size,
es_hid_includes_zero,
es_mode,
es_hdi_low,
es_hdi_high,
conclusion,
BEST_text <- cat(sprintf("A Bayesian BEST test was used to compare differences between the two conditions. We employed the default non-informative prior and parameters described by Krushke (2013). A region of practical equivalence (ROPE) was defined on the effect size (-0.2 < d < 0.2) in order to allow us to assess group equality as well as group differences. The posterior probabilities indicated that %s\%of credible effect sizes were greater than 0, and %s\% were within the ROPE. The most probable effect size was of %s size with a high density interval that %s, Mode d = %s, 95\% HDI [%s, %s]. We therefore concluded that %s existed between the low condition (M = %s) and high condition (M = %s).",
m_condition_b))
BEST_text <- cat(sprintf("A Bayesian BEST test was used to compare differences between the two conditions. We employed the default non-informative prior and parameters described by Krushke (2013). A region of practical equivalence (ROPE) was defined on the effect size (-0.2 < d < 0.2) in order to allow us to assess group equality as well as group differences. The posterior probabilities indicated that %s percent of credible effect sizes were greater than 0, and %s percent were within the ROPE. The most probable effect size was of %s size with a high density interval that %s, Mode d = %s, 95 percent HDI [%s, %s]. We therefore concluded that %s existed between the low condition (M = %s) and high condition (M = %s).",
es_percent_greater_zero,
es_percent_in_rope,
es_size,
es_hid_includes_zero,
es_mode,
es_hdi_low,
es_hdi_high,
conclusion,
m_condition_a,
m_condition_b))
BEST_text <- cat(sprintf("A Bayesian BEST test was used to % compare differences between the two conditions. We employed the default non-informative prior and parameters described by Krushke (2013). A region of practical equivalence (ROPE) was defined on the effect size (-0.2 < d < 0.2) in order to allow us to assess group equality as well as group differences. The posterior probabilities indicated that %s percent of credible effect sizes were greater than 0, and %s percent were within the ROPE. The most probable effect size was of %s size with a high density interval that %s, Mode d = %s, 95 percent HDI [%s, %s]. We therefore concluded that %s existed between the low condition (M = %s) and high condition (M = %s).",
es_percent_greater_zero,
es_percent_in_rope,
es_size,
es_hid_includes_zero,
es_mode,
es_hdi_low,
es_hdi_high,
conclusion,
m_condition_a,
m_condition_b))
BEST_text <- cat(sprintf("A Bayesian BEST test was used to \% compare differences between the two conditions. We employed the default non-informative prior and parameters described by Krushke (2013). A region of practical equivalence (ROPE) was defined on the effect size (-0.2 < d < 0.2) in order to allow us to assess group equality as well as group differences. The posterior probabilities indicated that %s percent of credible effect sizes were greater than 0, and %s percent were within the ROPE. The most probable effect size was of %s size with a high density interval that %s, Mode d = %s, 95 percent HDI [%s, %s]. We therefore concluded that %s existed between the low condition (M = %s) and high condition (M = %s).",
es_percent_greater_zero,
es_percent_in_rope,
es_size,
es_hid_includes_zero,
es_mode,
es_hdi_low,
es_hdi_high,
conclusion,
m_condition_a,
m_condition_b))
BEST_text <- cat(sprintf("A Bayesian BEST test was used to %% compare differences between the two conditions. We employed the default non-informative prior and parameters described by Krushke (2013). A region of practical equivalence (ROPE) was defined on the effect size (-0.2 < d < 0.2) in order to allow us to assess group equality as well as group differences. The posterior probabilities indicated that %s percent of credible effect sizes were greater than 0, and %s percent were within the ROPE. The most probable effect size was of %s size with a high density interval that %s, Mode d = %s, 95 percent HDI [%s, %s]. We therefore concluded that %s existed between the low condition (M = %s) and high condition (M = %s).",
es_percent_greater_zero,
es_percent_in_rope,
es_size,
es_hid_includes_zero,
es_mode,
es_hdi_low,
es_hdi_high,
conclusion,
m_condition_a,
m_condition_b))
BEST_text <- cat(sprintf("A Bayesian BEST test was used to compare differences between the two conditions. We employed the default non-informative prior and parameters described by Krushke (2013). A region of practical equivalence (ROPE) was defined on the effect size (-0.2 < d < 0.2) in order to allow us to assess group equality as well as group differences. The posterior probabilities indicated that %s%% of credible effect sizes were greater than 0, and %s%% were within the ROPE. The most probable effect size was of %s size with a high density interval that %s, Mode d = %s, 95%% HDI [%s, %s]. We therefore concluded that %s existed between the low condition (M = %s) and high condition (M = %s).",
es_percent_greater_zero,
es_percent_in_rope,
es_size,
es_hid_includes_zero,
es_mode,
es_hdi_low,
es_hdi_high,
conclusion,
m_condition_a,
m_condition_b))
# write data to disk
sink("output BEST.txt")
BEST_output_df
cat("\n")
cat("\n")
cat(BEST_text)
sink()
# plot
plotAll(BEST,
ROPEeff=c(-0.2,0.2),
showCurve = TRUE)
